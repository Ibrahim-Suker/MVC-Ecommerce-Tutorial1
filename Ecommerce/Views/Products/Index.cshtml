@model List<Product>

@section PageTitle {
    <!-- Header -->
    <header class="bg-primary py-5">
        <div class="container px-4 px-lg-5 my-5">
            <div class="text-center text-white">
                <h1 class="display-4 fw-bolder">@ViewBag.Title</h1>
                <p class="lead fw-normal text-white-50 mb-0">Discover the best products with special offers</p>
            </div>
        </div>
    </header>
}

<!-- Filter Section -->
<div class="container my-5">
    <form asp-action="Index" method="get" class="row gx-3 gy-2 align-items-center justify-content-center">
        <div class="col-sm-4">
            <select name="categoryid" class="form-select shadow-sm rounded-pill" id="category" asp-items="@ViewBag.Categories">
                <option selected value="">Select Category...</option>
            </select>
        </div>
        <div class="col-auto">
            <button type="submit" class="btn btn-warning rounded-pill px-4">Filter</button>
        </div>
    </form>
</div>

<!-- Products Section -->
<section class="py-5 bg-light">
    <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 row-cols-1 row-cols-md-2 row-cols-lg-4 justify-content-center">
            @foreach (var product in Model)
            {
                <div class="col mb-5">
                    <div class="card h-100 shadow-lg border-0 rounded-4 position-relative product-card">
                        <!-- Sale badge (اختياري لو المنتج عليه خصم) -->
                        @*<div class="badge bg-danger text-white position-absolute" style="top: 1rem; right: 1rem">Sale</div>*@

                        <!-- Product image -->
                        <div class="overflow-hidden rounded-top-4" style="height: 250px;">
                            <img class="card-img-top img-fluid" src="@product.Image" alt="@product.Name"
                                 style="object-fit: cover; height: 100%; transition: transform 0.3s;"
                                 onmouseover="this.style.transform='scale(1.1)'"
                                 onmouseout="this.style.transform='scale(1)'" />
                        </div>

                        <!-- Product details -->
                        <div class="card-body text-center">
                            <h5 class="fw-bold">
                                <a asp-controller="Products" asp-action="Details" asp-route-id="@product.Id" class="text-decoration-none text-dark">
                                    @product.Name
                                </a>
                            </h5>
                            <p class="text-muted small">Best Quality Product</p>
                            <span class="fw-bold text-success fs-5">$@product.Price</span>
                        </div>

                        <!-- Product actions -->
                        <div class="card-footer bg-transparent border-top-0 text-center mb-3">
                            <a asp-controller="Cart" asp-action="AddToCart" asp-route-productId="@product.Id"
                               class="btn btn-success rounded-pill px-4">
                                <i class="bi bi-cart-plus"></i> Add to Cart
                            </a>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section>

<style>
    /* تأثير على الكارت */
    .product-card:hover {
        transform: translateY(-8px);
        transition: all 0.3s;
        background: #ffffff;
    }
</style>
